# put build dir inside AAPDIR
BDIR = AAPDIR/$BDIR
INCLUDE = -I../libpdffit2

Tests ?= \
        TestPointsInSphere.cc

TestedSourcesBasenames = `Tests.replace('Test', '')`
TestedSources = ../libpdffit2/$*(TestedSourcesBasenames)

:program alltests
    { comment = compile unit tests }
    { add_LIBS = -lcppunit -ldl } :
        alltests.cc
        $(Tests)
        $(TestedSources)

unittest {comment = build and execute unit tests} : alltests
        :sys ./alltests${EXESUF}
